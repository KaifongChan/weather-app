(()=>{"use strict";let e=document.querySelector(".submitBtn"),t=document.querySelector("#search-location"),n=document.querySelector(".unitBtn"),o=null,r=!0;async function c(e){console.log(e);let t=await fetch(`https://api.weatherapi.com/v1/current.json?key=5776ef969eb249ad8f2101748230210&q=${e}`,{mode:"cors"});if(t.ok){let e=function(e){return{condition:e.current.condition.text,city:e.location.name,country:e.location.country,temp_C:e.current.temp_c,temp_F:e.current.temp_f,roughTemp_C:e.current.feelslike_c,roughTemp_F:e.current.feelslike_f,windSpeed:Math.round(e.current.wind_kph),humidity:e.current.humidity}}(await t.json());!function(e){document.querySelector(".condition").textContent=`${e.condition}`,document.querySelector(".location").textContent=`${e.city}, ${e.country}`;let t=document.querySelectorAll(".unit");switch(r){case!0:document.querySelector(".temperature").textContent=`${e.temp_C}`,document.querySelector(".rough-temp").textContent=`${e.roughTemp_C}`;for(let e=0;e<t.length;e++)t[e].textContent="°C";break;case!1:document.querySelector(".temperature").textContent=`${e.temp_F}`,document.querySelector(".rough-temp").textContent=`${e.roughTemp_F}`;for(let e=0;e<t.length;e++)t[e].textContent="°F"}}(e),document.querySelector("form").reset()}else alert(`There was an error ${t.status}, try again.`)}console.log(o),n.addEventListener("click",(e=>{switch(e.preventDefault(),r){case!0:r=!1;break;case!1:r=!0}c(o)})),e.addEventListener("click",(e=>{e.preventDefault(),o=t.value,c(o)}))})();